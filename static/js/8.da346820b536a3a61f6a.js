webpackJsonp([8],{Tm36:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("vLgD");var l={name:"class-schedule",data:function(){return{weekList:{Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",Sunday:"星期日"},numbers:["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],listarr:[],lessonData:[],list:[],num:null,dataid:"",temp:{week:"",lesson_id:"",trainer:"",start_time:"",end_time:"",remark:""},dialogFormVisible:!1,dialogStatus:"",textMap:{delete:"删除",create:"创建"},rules:{week:[{required:!0,message:"星期不能为空",trigger:"change"}],lesson_id:[{required:!0,message:"课程不能为空",trigger:"change"}],trainer:[{required:!0,message:"教练不能为空",trigger:"blur"}]}}},mounted:function(){this.initData(),this.handleData()},methods:{initData:function(){var e=this;Object(s.a)({url:"/set/queryLessonSetForSelectList",method:"get"}).then(function(t){e.lessonData=t.data}).catch(function(e){console.log(e)})},handleData:function(){var e=this;Object(s.a)({url:"/ct/queryClassSchedule",method:"get"}).then(function(t){e.list=t.data;for(var a=0;a<e.list.length;a++){var s=e.list[a].week_day,l=e.list[a].start_time,i=e.list[a].trainer,r=e.list[a].chs_lesson_id;document.getElementById(s+"_"+l).innerText=i+" "+r}}).catch(function(e){console.log(e)})},orderClass:function(e,t){var a=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){a.$refs.dataForm.clearValidate()}),this.temp.week=e,this.temp.start_time=t;var s=t.split(":");this.temp.end_time=Number(s[0])+1+":00"},createData:function(){},deleteData:function(){}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-source"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("课程表")])]),e._v(" "),a("table",{staticClass:"table--border"},[a("thead",[a("tr",[a("th",[e._v("小时／星期")]),e._v(" "),e._l(e.weekList,function(t){return a("th",{key:t},[e._v(e._s(t))])})],2)]),e._v(" "),a("tbody",e._l(e.numbers,function(t){return a("tr",{key:t,attrs:{id:"weektime"}},[a("td",[e._v(e._s(t))]),e._v(" "),e._l(e.weekList,function(s,l){return a("td",{key:l,ref:"index",refInFor:!0,attrs:{id:l+"_"+t},on:{click:function(a){e.orderClass(s,t)}}})})],2)}))])]),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"星期",prop:"name"}},[a("el-col",{attrs:{span:8}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.week,callback:function(t){e.$set(e.temp,"week",t)},expression:"temp.week"}},e._l(e.weekList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"课程"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.lesson_id,callback:function(t){e.$set(e.temp,"lesson_id",t)},expression:"temp.lesson_id"}},e._l(e.lessonData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"教练"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:e.temp.trainer,callback:function(t){e.$set(e.temp,"trainer",t)},expression:"temp.trainer"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:e.temp.start_time,callback:function(t){e.$set(e.temp,"start_time",t)},expression:"temp.start_time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:e.temp.end_time,callback:function(t){e.$set(e.temp,"end_time",t)},expression:"temp.end_time"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:""},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s("取消"))]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.createData}},[e._v(e._s("添加"))]):a("el-button",{attrs:{type:"primary"},on:{click:e.deleteData}},[e._v(e._s("删除"))])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(l,i,!1,function(e){a("UtQ7")},"data-v-8e17b83e",null);t.default=r.exports},UtQ7:function(e,t){}});
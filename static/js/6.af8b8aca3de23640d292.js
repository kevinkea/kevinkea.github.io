webpackJsonp([6],{"9Zab":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("DEHg"),a={name:"auth-manage",data:function(){return{choose:!1,menulist:null,defaultProps:{children:"nodes",label:"text"},list:null,listLoading:!0,nodes:null}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(n.h)().then(function(t){e.list=t.data,e.listLoading=!1})},handleMenu:function(e){this.choose=e,this.getMenuList()},getMenuList:function(){var e=this,t=new Array;Object(n.g)().then(function(s){e.menulist=s.data,e.menulist.forEach(function(e){"0"===e.parent_id&&("true"===e.checked?t.push(e.id):e.nodes.forEach(function(e){"true"===e.checked?t.push(e.id):e.nodes.forEach(function(e){"true"==e.checked&&t.push(e.id)})}))}),console.log(t),e.$refs.tree.setCheckedKeys(t)})},getCheckedKeys:function(){this.nodes=this.$refs.tree.getCheckedKeys();for(var e="",t=0;t<this.nodes.length;t++)e+=this.nodes[t]+";";e=e.substring(0,e.length-1),console.log(e),console.log(this.$refs.tree.getCheckedKeys())}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"form-source box-card auth-menu"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("角色类型")])]),e._v(" "),s("div",[s("ul",e._l(e.list,function(t,n){return s("li",{key:n,staticClass:"list-group-item",class:{active:n===e.choose},attrs:{label:t},on:{click:function(t){e.handleMenu(n)}}},[s("span",[e._v(e._s(t))])])}))])])],1),e._v(" "),s("div",{staticClass:"menu-form-source menu-box-card auth-menu"},[s("el-card",{staticClass:"menu-box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("功能菜单")])]),e._v(" "),s("el-tree",{ref:"tree",attrs:{data:e.menulist,"show-checkbox":"","default-expand":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1)],1),e._v(" "),s("div",{staticClass:"menu-form-source menu-box-menu auth-menu"},[s("el-button",{attrs:{type:"primary"},on:{click:e.getCheckedKeys}},[e._v("授权")])],1)])},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(e){s("rUb6")},"data-v-c06c72b4",null);t.default=o.exports},rUb6:function(e,t){}});
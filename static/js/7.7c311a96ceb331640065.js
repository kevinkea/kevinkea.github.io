webpackJsonp([7],{"7Lol":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{price:null,tableData:null,list:[],ruleForm:{site_name:"",corp_id:"",startTime:"08:30",endTime:"18:30",site_type:"",discount:"1",description:"",basicprice:"20"},rules:{site_name:[{required:!0,message:"请输入场馆名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],corp_id:[{required:!0,message:"请选择门店",trigger:"change"}],site_type:[{required:!0,message:"请选择场馆类型",trigger:"change"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}],discount:[{required:!0,message:"请填写折扣",trigger:"blur"}],basicprice:[{required:!0,message:"请填写常规时段价格",trigger:"blur"}],description:[{required:!0,message:"请填写场馆描述",trigger:"blur"}]}}},watch:{},computed:{},methods:{addTable:function(){var e=this;this.price=this.ruleForm.basicprice*this.ruleForm.discount,this.list.push({fromtime:this.ruleForm.startTime,totime:this.ruleForm.endTime,monday:this.price,tuesday:this.price,wednesday:this.price,thursday:this.price,friday:this.price,saturday:this.price,sunday:this.price}),this.tableData=this.list.map(function(t){return console.log(111),e.$set(t,"edit",!1),t.originalSunday=t.sunday,t})},cancelEdit:function(e){e.sunday=e.originalSunday,e.edit=!1,this.$message({message:"值未修改",type:"warning"})},confirmEdit:function(e){e.edit=!1,e.originalSunday=e.sunday,this.$message({message:"值已修改",type:"success"})},confirm:function(e){console.log(e)},deleteRow:function(e,t){t.splice(e,1),this.list.splice(e,1)},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-source"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"场馆名称",prop:"site_name"}},[r("el-col",{attrs:{span:"8"}},[r("el-input",{model:{value:e.ruleForm.site_name,callback:function(t){e.$set(e.ruleForm,"site_name",t)},expression:"ruleForm.site_name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"所属门店",prop:"corp_id"}},[r("el-select",{attrs:{placeholder:"请选择门店"},model:{value:e.ruleForm.corp_id,callback:function(t){e.$set(e.ruleForm,"corp_id",t)},expression:"ruleForm.corp_id"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"场馆类型",prop:"site_type"}},[r("el-select",{attrs:{placeholder:"请选择场馆类型"},model:{value:e.ruleForm.site_type,callback:function(t){e.$set(e.ruleForm,"site_type",t)},expression:"ruleForm.site_type"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"营业时间",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"startTime"}},[r("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"08:30",step:"00:60",end:"18:30"}},model:{value:e.ruleForm.startTime,callback:function(t){e.$set(e.ruleForm,"startTime",t)},expression:"ruleForm.startTime"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"endTime"}},[r("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"08:30",step:"00:60",end:"18:30",minTime:e.ruleForm.startTime}},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"折扣",prop:"discount"}},[r("el-col",{attrs:{span:3}},[r("el-input",{model:{value:e.ruleForm.discount,callback:function(t){e.$set(e.ruleForm,"discount",t)},expression:"ruleForm.discount"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"场馆描述",prop:"description"}},[r("el-col",{attrs:{span:"8"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),e._v(" "),r("div",{staticClass:"form-block"}),e._v(" "),r("el-form-item",{attrs:{label:"常规时段",prop:"basicprice"}},[r("el-col",{attrs:{span:3}},[r("el-input",{model:{value:e.ruleForm.basicprice,callback:function(t){e.$set(e.ruleForm,"basicprice",t)},expression:"ruleForm.basicprice"}})],1),e._v("\n\t\t\t元/小时\n\t\t")],1),e._v(" "),r("el-form-item",{attrs:{label:"其他时段:"}}),e._v(" "),r("div",{staticClass:"button-margin"},[r("el-button",{attrs:{type:"primary"},on:{click:e.addTable}},[e._v("添加")])],1),e._v(" "),r("div",{staticClass:"form-source"},[r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData}},[r("el-table-column",{attrs:{prop:"fromtime",label:"开始时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.fromtime,callback:function(r){e.$set(t.row,"fromtime",r)},expression:"scope.row.fromtime"}})]:r("span",[e._v(e._s(t.row.fromtime))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"totime",label:"结束时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.totime,callback:function(r){e.$set(t.row,"totime",r)},expression:"scope.row.totime"}})]:r("span",[e._v(e._s(t.row.totime))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"monday",label:"周一"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.monday,callback:function(r){e.$set(t.row,"monday",r)},expression:"scope.row.monday"}})]:r("span",[e._v(e._s(t.row.monday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"tuesday",label:"周二"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.tuesday,callback:function(r){e.$set(t.row,"tuesday",r)},expression:"scope.row.tuesday"}})]:r("span",[e._v(e._s(t.row.tuesday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"wednesday",label:"周三"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.wednesday,callback:function(r){e.$set(t.row,"wednesday",r)},expression:"scope.row.wednesday"}})]:r("span",[e._v(e._s(t.row.wednesday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"thursday",label:"周四"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.thursday,callback:function(r){e.$set(t.row,"thursday",r)},expression:"scope.row.thursday"}})]:r("span",[e._v(e._s(t.row.thursday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"friday",label:"周五"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.friday,callback:function(r){e.$set(t.row,"friday",r)},expression:"scope.row.friday"}})]:r("span",[e._v(e._s(t.row.friday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"saturday",label:"周六"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.saturday,callback:function(r){e.$set(t.row,"saturday",r)},expression:"scope.row.saturday"}})]:r("span",[e._v(e._s(t.row.saturday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"sunday",label:"周日"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:t.row.sunday,callback:function(r){e.$set(t.row,"sunday",r)},expression:"scope.row.sunday"}})]:r("span",[e._v(e._s(t.row.sunday))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?[r("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(r){e.cancelEdit(t.row)}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(r){e.confirmEdit(t.row)}}},[e._v("确定")])]:[r("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){t.row.edit=!t.row.edit}}},[e._v("编辑")])],e._v(" "),r("el-button",{attrs:{type:"danger",size:"small"},nativeOn:{click:function(r){r.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" 移除")])]}}])})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var a=r("VU/8")(s,l,!1,function(e){r("TAgu")},"data-v-9ca5a908",null);t.default=a.exports},TAgu:function(e,t){}});